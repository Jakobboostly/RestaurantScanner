Complete Solution for Rankings + Search Volume
1. Get Rankings (Current API)
javascriptconst getRankings = async (keyword, city, state, targetUrl) => {
  const response = await fetch('https://api.dataforseo.com/v3/serp/google/organic/live/advanced', {
    method: 'POST',
    headers: {
      'Authorization': `Basic ${credentials}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify([{
      "language_code": "en",
      "location_name": `${city},${state},United States`,
      "keyword": keyword,
      "depth": 50
    }])
  });

  const data = await response.json();
  
  // FIND YOUR URL IN THE RESULTS
  const items = data.tasks[0].result[0].items;
  for (let item of items) {
    if (item.type === 'organic' && item.domain.includes(targetUrl)) {
      return item.rank_absolute; // This is your position!
    }
  }
  return null; // Not found in top 50
};
2. Get Search Volume (Additional API Call)
javascriptconst getSearchVolume = async (keywords) => {
  const response = await fetch('https://api.dataforseo.com/v3/keywords_data/google_ads/search_volume/live', {
    method: 'POST',
    headers: {
      'Authorization': `Basic ${credentials}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify([{
      "keywords": keywords, // Array of your 8 keywords
      "language_code": "en",
      "location_name": "United States"
    }])
  });
  
  return response.json();
};
3. Complete Function
javascriptconst getCompleteData = async (targetUrl, cuisineType, city, state) => {
  const keywords = [
    `${cuisineType} near me`,
    `${cuisineType} delivery ${city}`,
    `best ${cuisineType} ${city}`,
    `${city} ${cuisineType}`,
    `${cuisineType} places near me`,
    `${cuisineType} ${city} ${state}`,
    `${cuisineType} delivery near me`,
    `${cuisineType} open now`
  ];

  // Get search volumes for all keywords
  const volumeData = await getSearchVolume(keywords);
  
  // Get rankings for each keyword
  const results = [];
  for (let keyword of keywords) {
    const ranking = await getRankings(keyword, city, state, targetUrl);
    const volume = volumeData.tasks[0].result.find(item => item.keyword === keyword);
    
    results.push({
      keyword: keyword,
      position: ranking || "Not found",
      searchVolume: volume?.search_volume || 0
    });
  }
  
  return results;
};
What You Get Back
javascript[
  {
    keyword: "pizza near me",
    position: 13,
    searchVolume: 22000
  },
  {
    keyword: "pizza delivery Provo", 
    position: 9,
    searchVolume: 480
  },
  // ... etc for all 8 keywords
]